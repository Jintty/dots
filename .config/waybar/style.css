/* =========================================================
   Waybar – Catppuccin Mocha (Colorblind-friendly, Purple-leaning)
   Strategy: brightness + shape > hue
   ========================================================= */

/* ---------- Palette (Catppuccin Mocha) ---------- */
@define-color crust     #11111b;
@define-color mantle    #181825;
@define-color base      #1e1e2e;

@define-color text      #cdd6f4;
@define-color subtext1  #bac2de;
@define-color subtext0  #a6adc8;
@define-color overlay2  #9399b2;
@define-color overlay1  #7f849c;
@define-color overlay0  #6c7086;

@define-color lavender  #b4befe;
@define-color mauve     #cba6f7; /* your beloved purple */
@define-color sapphire  #74c7ec;
@define-color sky       #89dceb;
@define-color teal      #94e2d5;
@define-color peach     #fab387;
@define-color maroon    #eba0ac; /* softer “red-ish”, less harsh */
@define-color red       #f38ba8;

/* ---------- Semantic tokens (keep few) ---------- */
@define-color accent        @mauve; /* default highlight */
@define-color info          @lavender; /* calm emphasis */
@define-color ok            @teal; /* positive state */
@define-color warn          @peach; /* warning (easier than yellow) */
@define-color crit          @maroon; /* critical (softer than pure red) */

/* Background tints (do the heavy lifting) */
@define-color bg-bar        rgba(30, 30, 46, 0.85); /* base with opacity */
@define-color bg-soft       rgba(205, 214, 244, 0.06);

@define-color bg-accent     rgba(203, 166, 247, 0.14);
@define-color bg-info       rgba(180, 190, 254, 0.14);
@define-color bg-ok         rgba(148, 226, 213, 0.14);
@define-color bg-warn       rgba(250, 179, 135, 0.16);
@define-color bg-crit       rgba(235, 160, 172, 0.18);

/* Borders */
@define-color line          rgba(180, 190, 254, 0.55); /* lavender */
@define-color line-strong   rgba(203, 166, 247, 0.80); /* mauve */

/* ---------- Global ---------- */
* {
  border: none;
  border-radius: 0;
  font-family: "Iosevka", "Symbols Nerd Font Mono";
  font-size: 14px;
  min-height: 0;
}

/* ---------- Bar shell ---------- */
window#waybar {
  background: @bg-bar;
  color: @text;
  border-bottom: 1px solid @line;
}

/* Give modules a “pill-less” block feeling via padding and optional soft hover */
#clock,
#battery,
#cpu,
#memory,
#temperature,
#network,
#pulseaudio,
#pulseaudio.microphone,
#tray,
#backlight,
#custom-notification,
#disk,
#custom-uptime,
#idle_inhibitor,
#network.speed {
  padding: 0 8px;
  background-color: transparent;
}

/* Optional: subtle hover highlight (helps discoverability, not required) */
#clock:hover,
#battery:hover,
#cpu:hover,
#memory:hover,
#temperature:hover,
#network:hover,
#pulseaudio:hover,
#pulseaudio.microphone:hover,
#backlight:hover,
#custom-notification:hover,
#disk:hover,
#custom-uptime:hover,
#idle_inhibitor:hover {
  background-color: @bg-soft;
}

/* =========================================================
   Workspaces (shape-first)
   ========================================================= */
#workspaces button {
  padding: 0 6px;
  color: @overlay0;
  background: transparent;
}

/* Active: bright text + strong underline (not just hue) */
#workspaces button.active {
  color: @text;
  border-bottom: 2px solid @line-strong;
}

/* Urgent: block + underline + weight (impossible to miss) */
#workspaces button.urgent {
  color: @text;
  font-weight: 800;
  background-color: @bg-crit;
  border-bottom: 2px solid rgba(235, 160, 172, 0.92);
}

/* =========================================================
   “Default” module colors (keep calm, mostly purple/neutral)
   ========================================================= */

/* Clock: highest priority information */
#clock {
  color: @text;
  margin-right: 0;
}

/* Uptime: your central purple candy */
#custom-uptime {
  color: @mauve;
  background-color: rgba(203, 166, 247, 0.08);
  border-bottom: 2px solid rgba(203, 166, 247, 0.35);
}

/* Audio */
#pulseaudio {
  color: @lavender; /* calm and readable */
}

/* Muted: shape encoding + dim */
#pulseaudio.muted {
  color: @overlay1;
  text-decoration: line-through;
}

/* Microphone: keep purple but distinct via underline */
#pulseaudio.microphone {
  color: @mauve;
  background-color: rgba(203, 166, 247, 0.1);
  border-bottom: 2px solid rgba(203, 166, 247, 0.45);
}

/* Network */
#network {
  color: @lavender;
}

/* Disconnected: block + underline + weight */
#network.disconnected {
  color: @text;
  font-weight: 800;
  background-color: @bg-crit;
  border-bottom: 2px solid rgba(235, 160, 172, 0.92);
}

/* Network speed: keep neutral, avoid warn-like hue */
#network.speed {
  color: @subtext1;
}

/* Temperature: default calm; critical will become a block */
#temperature {
  color: @subtext1;
}

/* CPU / Memory: neutral by default (avoid “always alarming”) */
#cpu {
  color: @subtext0;
}
#memory {
  color: @subtext0;
}

/* Disk: neutral by default */
#disk {
  color: @subtext0;
}

/* Backlight: info-ish (not warn-yellow) */
#backlight {
  color: @lavender;
}

/* Tray: neutral */
#tray {
  color: @subtext1;
}

/* Idle inhibitor */
#idle_inhibitor {
  color: rgba(166, 173, 200, 0.75);
}
#idle_inhibitor.activated {
  color: @text;
  background-color: @bg-ok;
  border-bottom: 2px solid rgba(148, 226, 213, 0.85);
}

/* =========================================================
   State system: warn / crit blocks
   Apply to: temperature critical, battery warn/crit, disk warn/crit, notifications
   ========================================================= */

/* Temperature critical */
#temperature.critical {
  color: @text;
  font-weight: 800;
  background-color: @bg-crit;
  border-bottom: 2px solid rgba(235, 160, 172, 0.92);
}

/* Battery: default ok-ish but not green-coded */
#battery {
  color: @teal;
}

/* Charging: positive block */
#battery.charging {
  color: @text;
  background-color: @bg-ok;
  border-bottom: 2px solid rgba(148, 226, 213, 0.85);
}

/* Warning: orange block */
#battery.warning:not(.charging) {
  color: @text;
  background-color: @bg-warn;
  border-bottom: 2px solid rgba(250, 179, 135, 0.88);
}

/* Critical: crit block + background pulse (text stays readable) */
#battery.critical:not(.charging) {
  color: @text;
  font-weight: 800;
  background-color: @bg-crit;
  border-bottom: 2px solid rgba(235, 160, 172, 0.92);
  animation: blink_bg 0.7s linear infinite alternate;
}
@keyframes blink_bg {
  to {
    background-color: rgba(235, 160, 172, 0.34);
  }
}

/* Disk warning / critical */
#disk.warning {
  color: @text;
  background-color: @bg-warn;
  border-bottom: 2px solid rgba(250, 179, 135, 0.88);
}
#disk.critical {
  color: @text;
  font-weight: 800;
  background-color: @bg-crit;
  border-bottom: 2px solid rgba(235, 160, 172, 0.92);
}

/* Optional: if your waybar config adds warning/critical classes for cpu/memory */
#cpu.warning,
#memory.warning {
  color: @text;
  background-color: @bg-warn;
  border-bottom: 2px solid rgba(250, 179, 135, 0.88);
}
#cpu.critical,
#memory.critical {
  color: @text;
  font-weight: 800;
  background-color: @bg-crit;
  border-bottom: 2px solid rgba(235, 160, 172, 0.92);
}

/* =========================================================
   Notifications (Mako custom module)
   ========================================================= */
#custom-notification {
  padding: 0 8px;
  background-color: transparent;
}

/* idle: practically invisible */
#custom-notification.idle {
  color: @overlay0;
}

/* unread: critical block */
#custom-notification.unread {
  color: @text;
  font-weight: 800;
  background-color: @bg-crit;
  border-bottom: 2px solid rgba(235, 160, 172, 0.92);
}

/* dnd: info block (purple/blue, not yellow) */
#custom-notification.dnd {
  color: @text;
  background-color: @bg-info;
  border-bottom: 2px solid rgba(180, 190, 254, 0.88);
}

/* =========================================================
   Optional: “section dividers” (if you later want more grouping)
   You can add background blocks per module group if desired.
   ========================================================= */
